–û–±—â–∏–π –ø–æ–Ω—è—Ç–Ω—ã–π –≤–∞—Ä–∏–∞–Ω—Ç:
–ü—Ä–æ–±–ª–µ–º–∞:
–ú–æ–¥–µ–ª—å Llama 2 —á–µ—Ä–µ–∑ Ollama API –≤–æ–∑–≤—Ä–∞—â–∞–ª–∞ –æ—Ç–≤–µ—Ç –≤ –≤–∏–¥–µ –ø–æ—Ç–æ–∫–æ–≤—ã—Ö JSON-–æ–±—ä–µ–∫—Ç–æ–≤, –≥–¥–µ –∫–∞–∂–¥—ã–π –æ–±—ä–µ–∫—Ç —Å–æ–¥–µ—Ä–∂–∞–ª –Ω–µ–±–æ–ª—å—à—É—é —á–∞—Å—Ç—å –æ—Ç–≤–µ—Ç–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –æ–¥–Ω–æ —Å–ª–æ–≤–æ –∏–ª–∏ —Å–∏–º–≤–æ–ª). –û–¥–Ω–∞–∫–æ –≤–∞—à –∫–æ–¥ –Ω–µ –±—ã–ª –Ω–∞—Å—Ç—Ä–æ–µ–Ω –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Ç–∞–∫–∏—Ö –ø–æ—Ç–æ–∫–æ–≤—ã—Ö –¥–∞–Ω–Ω—ã—Ö. –í–º–µ—Å—Ç–æ —ç—Ç–æ–≥–æ –æ–Ω –ø—ã—Ç–∞–ª—Å—è –æ–±—Ä–∞–±–æ—Ç–∞—Ç—å –æ—Ç–≤–µ—Ç –∫–∞–∫ –µ–¥–∏–Ω—ã–π JSON-–æ–±—ä–µ–∫—Ç, —á—Ç–æ –ø—Ä–∏–≤–æ–¥–∏–ª–æ –∫ –æ—à–∏–±–∫–∞–º. –í —Ä–µ–∑—É–ª—å—Ç–∞—Ç–µ, –≤–º–µ—Å—Ç–æ –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω–æ–≥–æ –æ—Ç–≤–µ—Ç–∞, –≤—ã –ø–æ–ª—É—á–∞–ª–∏ —Ç–æ–ª—å–∫–æ —á–∞—Å—Ç—å –¥–∞–Ω–Ω—ã—Ö (–Ω–∞–ø—Ä–∏–º–µ—Ä, —Å–º–∞–π–ª–∏–∫ –∏–ª–∏ –æ–¥–Ω–æ —Å–ª–æ–≤–æ) –∏–ª–∏ —Å–æ–æ–±—â–µ–Ω–∏–µ –æ–± –æ—à–∏–±–∫–µ.

–ü—Ä–∏—á–∏–Ω–∞:
Ollama API –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –ø–æ—Ç–æ–∫–æ–≤—É—é –ø–µ—Ä–µ–¥–∞—á—É –¥–∞–Ω–Ω—ã—Ö –¥–ª—è –±–æ–ª–µ–µ –±—ã—Å—Ç—Ä–æ–π –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –æ—Ç–≤–µ—Ç–æ–≤. –≠—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ –æ—Ç–≤–µ—Ç –ø—Ä–∏—Ö–æ–¥–∏—Ç –Ω–µ –æ–¥–Ω–∏–º –±–æ–ª—å—à–∏–º –±–ª–æ–∫–æ–º, –∞ –Ω–µ–±–æ–ª—å—à–∏–º–∏ —á–∞—Å—Ç—è–º–∏ (—á–∞–Ω–∫–∞–º–∏). –ï—Å–ª–∏ –∫–æ–¥ –Ω–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Ç–∞–∫–∏—Ö –ø–æ—Ç–æ–∫–æ–≤—ã—Ö –¥–∞–Ω–Ω—ã—Ö, –æ–Ω –Ω–µ —Å–º–æ–∂–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ —Å–æ–±—Ä–∞—Ç—å –æ—Ç–≤–µ—Ç.

–†–µ—à–µ–Ω–∏–µ:
–ú—ã –∏–∑–º–µ–Ω–∏–ª–∏ –∫–æ–¥, —á—Ç–æ–±—ã –æ–Ω –º–æ–≥ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å –ø–æ—Ç–æ–∫–æ–≤—ã–µ JSON-–æ–±—ä–µ–∫—Ç—ã. –¢–µ–ø–µ—Ä—å –æ–Ω:

–í–∫–ª—é—á–∞–µ—Ç –ø–æ—Ç–æ–∫–æ–≤—ã–π —Ä–µ–∂–∏–º (stream=True) –ø—Ä–∏ –∑–∞–ø—Ä–æ—Å–µ –∫ API.

–ü–æ—Å—Ç–µ–ø–µ–Ω–Ω–æ —Å–æ–±–∏—Ä–∞–µ—Ç –æ—Ç–≤–µ—Ç –∏–∑ –∫–∞–∂–¥–æ–≥–æ JSON-–æ–±—ä–µ–∫—Ç–∞, –¥–æ–±–∞–≤–ª—è—è –µ–≥–æ –∫ –æ–±—â–µ–º—É —Ä–µ–∑—É–ª—å—Ç–∞—Ç—É.

–ö–æ—Ä—Ä–µ–∫—Ç–Ω–æ –¥–µ–∫–æ–¥–∏—Ä—É–µ—Ç –¥–∞–Ω–Ω—ã–µ –≤ UTF-8, —á—Ç–æ–±—ã –∏–∑–±–µ–∂–∞—Ç—å –ø—Ä–æ–±–ª–µ–º —Å –∫–æ–¥–∏—Ä–æ–≤–∫–æ–π (–Ω–∞–ø—Ä–∏–º–µ—Ä, –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–≥–æ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è —ç–º–æ–¥–∑–∏).

–†–µ–∑—É–ª—å—Ç–∞—Ç:
–¢–µ–ø–µ—Ä—å –∫–æ–¥ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ —Å–æ–±–∏—Ä–∞–µ—Ç –æ—Ç–≤–µ—Ç –∏–∑ –ø–æ—Ç–æ–∫–æ–≤—ã—Ö –¥–∞–Ω–Ω—ã—Ö –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –ø–æ–ª–Ω—ã–π —Ç–µ–∫—Å—Ç, –∫–æ—Ç–æ—Ä—ã–π —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–ª–∞ –º–æ–¥–µ–ª—å. –ù–∞–ø—Ä–∏–º–µ—Ä, –µ—Å–ª–∏ –º–æ–¥–µ–ª—å –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç:

json
Copy
{"content": "–ü—Ä–∏–≤–µ—Ç"}
{"content": ", "}
{"content": "–º–∏—Ä!"}
–ö–æ–¥ —Å–æ–±–µ—Ä–µ—Ç —ç—Ç–æ –≤ –æ–¥–∏–Ω –æ—Ç–≤–µ—Ç: "–ü—Ä–∏–≤–µ—Ç, –º–∏—Ä!".

–ö–æ—Ä–æ—Ç–∫–∏–π –≤–∞—Ä–∏–∞–Ω—Ç (–∫–∞–∫ –ø—Ä–æ–º–ø—Ç):
–ü—Ä–æ–±–ª–µ–º–∞:
–ú–æ–¥–µ–ª—å Llama 2 —á–µ—Ä–µ–∑ Ollama API –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –æ—Ç–≤–µ—Ç –ø–æ—Ç–æ–∫–æ–≤–æ (—á–∞–Ω–∫–∞–º–∏), –Ω–æ –∫–æ–¥ –Ω–µ —Å–æ–±–∏—Ä–∞–µ—Ç –∏—Ö –≤–æ–µ–¥–∏–Ω–æ, –∏–∑-–∑–∞ —á–µ–≥–æ –æ—Ç–≤–µ—Ç –æ–±—Ä–µ–∑–∞–µ—Ç—Å—è –∏–ª–∏ –≤—ã–≤–æ–¥–∏—Ç—Å—è –æ—à–∏–±–∫–∞.

–†–µ—à–µ–Ω–∏–µ:
–í–∫–ª—é—á–∏—Ç–µ –ø–æ—Ç–æ–∫–æ–≤—ã–π —Ä–µ–∂–∏–º –≤ –∑–∞–ø—Ä–æ—Å–µ –∫ API: stream=True.

–û–±—Ä–∞–±–∞—Ç—ã–≤–∞–π—Ç–µ –∫–∞–∂–¥—ã–π JSON-–æ–±—ä–µ–∫—Ç –≤ –ø–æ—Ç–æ–∫–µ, —Å–æ–±–∏—Ä–∞—è —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ –≤ –æ–¥–Ω—É —Å—Ç—Ä–æ–∫—É.

–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –¥–∞–Ω–Ω—ã–µ –¥–µ–∫–æ–¥–∏—Ä—É—é—Ç—Å—è –≤ UTF-8.

–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–π –∫–æ–¥:
python
Copy
response = requests.post(api_url, stream=True)
full_response = ""
for line in response.iter_lines():
    if line:
        json_data = json.loads(line.decode('utf-8'))
        full_response += json_data["message"]["content"]
–¢–µ–ø–µ—Ä—å –æ—Ç–≤–µ—Ç –º–æ–¥–µ–ª–∏ –±—É–¥–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ —Å–æ–±—Ä–∞–Ω –∏ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω. üöÄ